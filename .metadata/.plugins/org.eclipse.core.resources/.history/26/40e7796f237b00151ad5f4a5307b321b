package com.codeu.event.reservation;

import com.codeu.event.rental.Guest;
import com.codeu.event.rental.RentalCar;
import com.ntier.event.util.EmailSender;

class CarReservation extends Reservation {
	private RentalCar car;
	
	CarReservation(RentalCar car, Guest guest) {
		super(guest);
		this.setCar(car);
		
	}
	
	@Override
	public boolean reserve() {
		EmailSender valid = new EmailSender();
		
		boolean check = valid.send(this.validateClubNumber(guest.getHotelClubNumber()), this.validateLicense(guest.getDriversLicense()));
		
		return false;
	}

	boolean validateLicense(String num) {
		boolean rtn = false;
		
		if(num.length() >= 12) {
			rtn = true;
		}
		
		return rtn;
		
	}

	public String toString() {
		String mssg = "Hello, " + getGuestString() + "!" + " Your club number is: " + this.getGuest().getCarClubNumber() + "\n" + "Here's your booking:" + "\n" + car.toString();
		return mssg;
	}
	
	private void setGuest(Guest guest) {
		this.guest = guest;
		
	}
	
	private void setCar(RentalCar car) {
		this.car = car;
	}
	
	public String getGuestString() {
		return guest.toString();		
	}
	
	private Guest getGuest() {
		return guest;		
	}
}